!function(){function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"===typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"===typeof t||"function"===typeof t}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function f(){return l(" ")}function d(){return l("")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){(null!=e||t.value)&&(t.value=e)}let $;function g(t){$=t}function x(){if(!$)throw Error("Function called outside component initialization");return $}const y=[],b=[],v=[],_=[],E=Promise.resolve();let C=!1;function k(){C||(C=!0,E.then(j))}function w(t){v.push(t)}let S=!1;const N=new Set;function j(){if(!S){S=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];g(e),A(e.$$)}for(y.length=0;b.length;)b.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];N.has(e)||(N.add(e),e())}v.length=0}while(y.length);for(;_.length;)_.pop()();C=!1,S=!1,N.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const B=new Set;let I;function M(){I={r:0,c:[],p:I}}function O(){I.r||o(I.c),I=I.p}function U(t,e){t&&t.i&&(B.delete(t),t.i(e))}function q(t,e,n,o){if(t&&t.o){if(B.has(t))return;B.add(t),I.c.push(()=>{B.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function z(t){t&&t.c()}function D(t,n,i){const{fragment:c,on_mount:u,on_destroy:s,after_update:a}=t.$$;c&&c.m(n,i),w(()=>{const n=u.map(e).filter(r);s?s.push(...n):o(n),t.$$.on_mount=[]}),a.forEach(w)}function L(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(e,r,i,c,u,s,a=[-1]){const l=$;g(e);const f=r.props||{},d=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:a};let p=!1;d.ctx=i?i(e,f,(t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&u(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),p&&function(t,e){-1===t.$$.dirty[0]&&(y.push(t),k(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],d.update(),p=!0,o(d.before_update),d.fragment=!!c&&c(d.ctx),r.target&&(r.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(r.target)):d.fragment&&d.fragment.c(),r.intro&&U(e.$$.fragment),D(e,r.target,r.anchor),j()),g(l)}class F{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var P,Y=(P=Object.freeze({__proto__:null,SvelteComponent:class extends F{constructor(t){if(!t||!t.target&&!t.$$inline)throw Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{}}$capture_state(){}$inject_state(){}},afterUpdate(t){x().$$.after_update.push(t)},beforeUpdate(t){x().$$.before_update.push(t)},createEventDispatcher(){const t=x();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,r)})}}},getContext(t){return x().$$.context.get(t)},onDestroy(t){x().$$.on_destroy.push(t)},onMount(t){x().$$.on_mount.push(t)},setContext(t,e){x().$$.context.set(t,e)},tick(){return k(),E}}))&&P.default||P;let{getContext:G,setContext:H}=Y;const J="undefined"!==typeof Symbol?Symbol("storeon"):"@@storeon";for(var K=function(...t){let e=G(J),n={};e.on("@changed",(e,o)=>{t.forEach(t=>{o[t]&&n[t]&&n[t](o[t])})});let o={};return t.forEach(t=>{o[t]=(t=>({subscribe(o){let r=e.get();return n[t]=o,o(r[t]),()=>{delete n[t]}}}))(t)}),o.dispatch=e.dispatch,o},Q="-_",R=36;R--;)Q+=R.toString(36);for(R=36;R---10;)Q+=R.toString(36).toUpperCase();var V=function(t){var e="";for(R=t||21;R--;)e+=Q[64*Math.random()|0];return e};const W=t=>({id:V(16),text:t,isEdit:!1}),X=(t=>{let e={},n={},o={dispatch(t,r){if("@dispatch"!==t&&o.dispatch("@dispatch",[t,r,e[t]]),e[t]){let i,c={};e[t].forEach(t=>{let e=t(n,r);e&&"function"!==typeof e.then&&(i=n={...n,...e},c={...c,...e})}),i&&o.dispatch("@changed",c)}},get(){return n},on:(t,n)=>((e[t]||(e[t]=[])).push(n),()=>{e[t]=e[t].filter(t=>t!==n)})};return t.forEach(t=>{t&&t(o)}),o.dispatch("@init"),o})([({on:t})=>{t("@init",()=>({items:[]})),t("items/add",({items:t},e)=>({items:[W(e),...t]})),t("items/remove",({items:t},e)=>({items:t.filter(t=>t.id!==e)})),t("items/edit",({items:t},e)=>{const n=t.findIndex(t=>t.id===e),o={...t[n],isEdit:!0};return t.splice(n,1,o),{items:[...t]}}),t("items/update",({items:t},{id:e,text:n})=>{const o=t.findIndex(t=>t.id===e),r={...t[o],text:n,isEdit:!1};return t.splice(o,1,r),{items:[...t]}})},!1]);function Z(e){let n,r;return{c(){n=a("input"),m(n,"type","text")},m(t,o){u(t,n,o),h(n,e[0]),r=[p(n,"input",e[3]),p(n,"keypress",e[1])]},p(t,[e]){1&e&&n.value!==t[0]&&h(n,t[0])},i:t,o:t,d(t){t&&s(n),o(r)}}}function tt(t,e,n){let o="";const{dispatch:r}=K();return[o,({keyCode:t})=>{13===t&&""!==o.trim()&&(r("items/add",o),n(0,o=""))},r,function(){o=this.value,n(0,o)}]}class et extends F{constructor(t){super(),T(this,t,tt,Z,i,{})}}function nt(e){let n;return{c(){n=a("p"),n.textContent="You don't have any tasks"},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&s(n)}}}class ot extends F{constructor(t){super(),T(this,t,null,nt,i,{})}}function rt(t){let e,n,r,i,d,h,$,g,x=t[0].text+"";return{c(){e=a("li"),n=a("span"),r=l(x),i=f(),d=a("button"),d.textContent="edit",h=f(),$=a("button"),$.textContent="remove",m(d,"type","button"),m($,"type","button")},m(o,s){u(o,e,s),c(e,n),c(n,r),c(e,i),c(e,d),c(e,h),c(e,$),g=[p(d,"click",t[1]),p($,"click",t[2])]},p(t,e){1&e&&x!==(x=t[0].text+"")&&function(t,e){t.data!==(e=""+e)&&(t.data=e)}(r,x)},d(t){t&&s(e),o(g)}}}function it(t){let e,n,o;return{c(){e=a("input"),m(e,"type","text"),e.value=n=t[0].text},m(n,r){u(n,e,r),o=p(e,"keypress",t[3])},p(t,o){1&o&&n!==(n=t[0].text)&&e.value!==n&&(e.value=n)},d(t){t&&s(e),o()}}}function ct(e){let n;function o(t,e){return t[0].isEdit?it:rt}let r=o(e),i=r(e);return{c(){i.c(),n=d()},m(t,e){i.m(t,e),u(t,n,e)},p(t,[e]){r===(r=o(t))&&i?i.p(t,e):(i.d(1),i=r(t),i&&(i.c(),i.m(n.parentNode,n)))},i:t,o:t,d(t){i.d(t),t&&s(n)}}}function ut(t,e,n){let{data:o}=e,{dispatch:r}=e;return t.$set=t=>{"data"in t&&n(0,o=t.data),"dispatch"in t&&n(4,r=t.dispatch)},[o,()=>{r("items/edit",o.id)},()=>{r("items/remove",o.id)},({keyCode:t,target:e})=>{13===t&&""!==e.value.trim()&&r("items/update",{id:o.id,text:e.value})},r]}class st extends F{constructor(t){super(),T(this,t,ut,ct,i,{data:0,dispatch:4})}}function at(t,e,n){const o=t.slice();return o[3]=e[n],o}function lt(e){let n;const o=new ot({});return{c(){z(o.$$.fragment)},m(t,e){D(o,t,e),n=!0},p:t,i(t){n||(U(o.$$.fragment,t),n=!0)},o(t){q(o.$$.fragment,t),n=!1},d(t){L(o,t)}}}function ft(t){let e,n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=dt(at(t,o,e));const i=t=>q(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=d()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);u(t,e,o),n=!0},p(t,n){if(5&n){let c;for(o=t[0],c=0;c<o.length;c+=1){const i=at(t,o,c);r[c]?(r[c].p(i,n),U(r[c],1)):(r[c]=dt(i),r[c].c(),U(r[c],1),r[c].m(e.parentNode,e))}for(M(),c=o.length;c<r.length;c+=1)i(c);O()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)U(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)q(r[t]);n=!1},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t),t&&s(e)}}}function dt(t){let e;const n=new st({props:{data:t[3],dispatch:t[2]}});return{c(){z(n.$$.fragment)},m(t,o){D(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.data=t[3]),n.$set(o)},i(t){e||(U(n.$$.fragment,t),e=!0)},o(t){q(n.$$.fragment,t),e=!1},d(t){L(n,t)}}}function pt(t){let e,n,o,r;const i=[ft,lt],c=[];function l(t,e){return t[0].length>0?0:1}return n=l(t),o=c[n]=i[n](t),{c(){e=a("ul"),o.c()},m(t,o){u(t,e,o),c[n].m(e,null),r=!0},p(t,[r]){let u=n;n=l(t),n===u?c[n].p(t,r):(M(),q(c[u],1,1,()=>{c[u]=null}),O(),o=c[n],o||(o=c[n]=i[n](t),o.c()),U(o,1),o.m(e,null))},i(t){r||(U(o),r=!0)},o(t){q(o),r=!1},d(t){t&&s(e),c[n].d()}}}function mt(e,n,o){let r;const{items:i,dispatch:c}=K("items");return function(e,n,i){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,t=>o(0,r=t)))}(e,i),[r,i,c]}class ht extends F{constructor(t){super(),T(this,t,mt,pt,i,{})}}function $t(e){let n,o,r,i,l;const d=new et({}),p=new ht({});return{c(){n=a("main"),o=a("h1"),o.textContent="Todo",r=f(),z(d.$$.fragment),i=f(),z(p.$$.fragment),m(n,"class","main svelte-f9kgaf")},m(t,e){u(t,n,e),c(n,o),c(n,r),D(d,n,null),c(n,i),D(p,n,null),l=!0},p:t,i(t){l||(U(d.$$.fragment,t),U(p.$$.fragment,t),l=!0)},o(t){q(d.$$.fragment,t),q(p.$$.fragment,t),l=!1},d(t){t&&s(n),L(d),L(p)}}}function gt(t){return function(t){H(J,t)}(X),[]}new class extends F{constructor(t){super(),T(this,t,gt,$t,i,{})}}({target:document.getElementById("root")})}();
